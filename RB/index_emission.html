<!doctype html>
<html lang="en">
  <head>
    <title>&lt;model-viewer&gt; template</title>
    <meta charset="utf-8">
    <meta name="description" content="&lt;model-viewer&gt; template">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link type="text/css" href="styles.css" rel="stylesheet"/>

    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
  </head>
  <body>

    <!-- <div id="demo">
    </div> -->
    <div id="model">
      <model-viewer id="sphere" camera-controls interaction-prompt="none" src="reflective-sphere.gltf" ar ar-modes="webxr scene-viewer quick-look" alt="A 3D model of a sphere">
    <div class="controls">
      <div>
        <p>Emission: <span id="emission-value"></span></p>
        <input id="emission" type="range" min="0" max="1" step="0.01" value="1">
      </div>
      <!-- <div>
        <p>Roughness: <span id="roughness-value"></span></p>
        <input id="roughness" type="range" min="0" max="1" step="0.01" value="0">
      </div> -->
    </div>
  </model-viewer>

  <!-- ----------------------------------------------------------- -->
  <!-- <script>
  const modelViewerParameters = document.querySelector("model-viewer#sphere");

  modelViewerParameters.addEventListener("load", (ev) => {

    let material = modelViewerParameters.model.materials[0];

    let metalnessDisplay = document.querySelector("#metalness-value");
    let roughnessDisplay = document.querySelector("#roughness-value");

    metalnessDisplay.textContent = material.pbrMetallicRoughness.metallicFactor;
    roughnessDisplay.textContent = material.pbrMetallicRoughness.roughnessFactor;

    // Defaults to gold
    material.pbrMetallicRoughness.setBaseColorFactor([0.7294, 0.5333, 0.0392]);

    document.querySelector('#metalness').addEventListener('input', (event) => {
      material.pbrMetallicRoughness.setMetallicFactor(event.target.value);
      metalnessDisplay.textContent = event.target.value;
    });

    document.querySelector('#roughness').addEventListener('input', (event) => {
      material.pbrMetallicRoughness.setRoughnessFactor(event.target.value);
      roughnessDisplay.textContent = event.target.value;
    });
  })
  </script> -->
<!-- ---------------------------------------------------------- -->
  <script>
  const modelViewerEmission = document.querySelector("model-viewer#sphere");

  document.querySelector('#emission-value').addEventListener('input', (event) => {
    const colorString = event.target.dataset.emission;

    if (!colorString) {
      return;
    }

    const emission = emissionString.split(',')
        .map(numberString => parseFloat(numberString));

    console.log('Changing color to: ', emission);
    const [material] = modelViewerEmission.model.materials;
    material.pbrMetallicRoughness.setEmissiveFactor(emission);
    	console.log(emission);
  });
  </script>
<!-- ----------------------------------------------------------   -->
  </div>
    <script src="script.js"></script>
    <script type="module" src="lottiescript.js"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  </body>
</html>
